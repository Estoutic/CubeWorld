# 🗺️ Карта агентов Cube World

```
                              ┌─────────────────────────┐
                              │   🎯 ORCHESTRATOR       │
                              │   Главный координатор   │
                              │   Управляет всеми       │
                              └───────────┬─────────────┘
                                          │
                   ┌──────────────────────┼──────────────────────┐
                   │                      │                      │
           ┌───────▼────────┐    ┌───────▼────────┐    ┌───────▼────────┐
           │ 🏗️ VOXEL       │    │ 🎮 PLAYER      │    │ 🎨 VISUAL      │
           │ ENGINE         │───►│ CONTROLLER     │    │ STYLE          │
           │ Фаза 1         │    │ Фаза 2         │    │ Фаза 3         │
           └────────┬───────┘    └────────┬───────┘    └────────────────┘
                    │                     │
                    │              ┌──────▼──────┐
                    │              │ ⚔️ COMBAT   │
                    │              │ SYSTEM      │
                    │              │ Фаза 4      │
                    │              └──────┬──────┘
                    │                     │
            ┌───────┴────────┬────────────┴────────┬─────────────┐
            │                │                     │             │
     ┌──────▼─────┐   ┌──────▼─────┐      ┌──────▼─────┐  ┌───▼───────┐
     │ 🧟 ENEMY   │   │ 📊 RPG     │      │ 🗺️ WORLD   │  │ ✨ POLISH │
     │ AI         │   │ SYSTEM     │      │ CONTENT    │  │ Фаза 9    │
     │ Фаза 5     │   │ Фаза 6     │      │ Фаза 7     │  └───────────┘
     └────────────┘   └────────────┘      └────────────┘
                                                  │
                                          ┌───────▼───────┐
                                          │ 🌐 MULTI-     │
                                          │ PLAYER        │
                                          │ Фаза 8        │
                                          │ (опционально) │
                                          └───────────────┘
```

## 📋 Детальная иерархия

### Уровень 0: Координация
```
🎯 Orchestrator
└── Управляет всеми фазами 0-10
    ├── Проверяет зависимости
    ├── Распределяет задачи
    └── Контролирует качество
```

### Уровень 1: Фундамент (Критический)
```
🏗️ VoxelEngine (Фаза 1)
├── 1.1 Базовый чанк
├── 1.2 Greedy Meshing
├── 1.3 ChunkManager
├── 1.4 Процедурная генерация
└── 1.5 Стиль Cube World
```

### Уровень 2: Базовый геймплей (Критический)
```
🎮 PlayerController (Фаза 2)
├── 2.1 Контроллер персонажа
├── 2.2 Камера от третьего лица
└── 2.3 Модель персонажа

⚔️ CombatSystem (Фаза 4)
├── 4.1 Система оружия
├── 4.2 Комбо-система
├── 4.3 Уклонение и блок
├── 4.4 Таргетинг
├── 4.5 Магия
└── 4.6 Спецэффекты

🧟 EnemyAI (Фаза 5)
├── 5.1 Базовый AI
├── 5.2 Pathfinding
├── 5.3 Типы врагов
├── 5.4 Боссы
└── 5.5 Баланс и loot
```

### Уровень 3: Глубина (Важный)
```
🎨 VisualStyle (Фаза 3)
├── 3.1 Освещение и атмосфера
├── 3.2 Вода
├── 3.3 Растительность
└── 3.4 Биомы

📊 RPGSystem (Фаза 6)
├── 6.1 Уровни и характеристики
├── 6.2 Инвентарь
├── 6.3 Крафтинг
├── 6.4 Экипировка
└── 6.5 Классы персонажей
```

### Уровень 4: Контент (Желательный)
```
🗺️ WorldContent (Фаза 7)
├── 7.1 Данжены
├── 7.2 Деревни и NPC
├── 7.3 Квесты
├── 7.4 Карта мира
└── 7.5 Маунты
```

### Уровень 5: Полировка (Желательный)
```
✨ Polish (Фаза 9)
├── 9.1 Главное меню
├── 9.2 Система сохранения
├── 9.3 Звук и музыка
├── 9.4 Эффекты
└── 9.5 Настройки графики
```

### Уровень 6: Расширение (Опциональный)
```
🌐 Multiplayer (Фаза 8)
├── 8.1 Сетевой фреймворк
├── 8.2 Синхронизация мира
└── 8.3 Кооперативный геймплей
```

## 🔗 Граф зависимостей

```
VoxelEngine
    ├──► PlayerController ──► CombatSystem
    │                              │
    ├──► VisualStyle               ├──► EnemyAI
    │                              │        │
    └──────────────────────────────┴────────┴──► WorldContent
                                                        │
                                                   RPGSystem
                                                        │
                                                      Polish
                                                        │
                                                   Multiplayer
```

## 📊 Матрица приоритетов

| Агент | Приоритет | Фаза | Зависимости | Время |
|-------|-----------|------|-------------|-------|
| **Orchestrator** | 🔴 Критический | Все | — | Всегда |
| **VoxelEngine** | 🔴 Критический | 1 | — | 2-4 недели |
| **PlayerController** | 🔴 Критический | 2 | VoxelEngine | 1-2 недели |
| **CombatSystem** | 🔴 Критический | 4 | PlayerController | 2-3 недели |
| **EnemyAI** | 🔴 Критический | 5 | VoxelEngine, CombatSystem | 2-3 недели |
| **VisualStyle** | 🟡 Важный | 3 | VoxelEngine | 1-2 недели |
| **RPGSystem** | 🟡 Важный | 6 | PlayerController, Combat | 2-3 недели |
| **WorldContent** | 🟢 Желательный | 7 | VoxelEngine, Enemy, RPG | 2-4 недели |
| **Polish** | 🟢 Желательный | 9 | Все предыдущие | 2-3 недели |
| **Multiplayer** | ⚪ Опциональный | 8 | Все основные | 3-5 недель |

## 🎯 Критический путь (Critical Path)

```
1. VoxelEngine (обязательно) ─┐
2. PlayerController (обязательно) ─┤
3. CombatSystem (обязательно) ────┤──► MVP (Минимальный продукт)
4. EnemyAI (обязательно) ──────────┘
5. VisualStyle (рекомендовано)
6. RPGSystem (рекомендовано)
7. WorldContent (для полноты)
8. Polish (для релиза)
9. Multiplayer (если хватит сил)
```

## 📈 Timeline разработки

```
Месяц 1-2:  ███████ VoxelEngine + PlayerController
Месяц 2-3:  ████████ CombatSystem + EnemyAI
Месяц 3-4:  ██████ VisualStyle + RPGSystem
Месяц 4-5:  ███████ WorldContent
Месяц 5:    ████ Polish
Месяц 6-7:  ████ Multiplayer (опционально)
```

## 🚀 Путь к релизу

```
[START] → Фаза 0 (Подготовка)
    ↓
Фаза 1 (VoxelEngine) ✅ КРИТИЧНО
    ↓
Фаза 2 (PlayerController) ✅ КРИТИЧНО
    ↓
Фаза 4 (CombatSystem) ✅ КРИТИЧНО
    ↓
Фаза 5 (EnemyAI) ✅ КРИТИЧНО
    ↓
[MVP READY] ← Можно играть!
    ↓
Фаза 3 (VisualStyle) 🟡 ВАЖНО
    ↓
Фаза 6 (RPGSystem) 🟡 ВАЖНО
    ↓
[ALPHA READY] ← Есть прогрессия!
    ↓
Фаза 7 (WorldContent) 🟢 ЖЕЛАТЕЛЬНО
    ↓
Фаза 9 (Polish) 🟢 ЖЕЛАТЕЛЬНО
    ↓
[BETA READY] ← Полноценная игра!
    ↓
Фаза 8 (Multiplayer) ⚪ ОПЦИОНАЛЬНО
    ↓
[RELEASE] ← Готово к публикации! 🎊
```

---

*Следуйте этой карте для успешной разработки!*